issue
Feature request: possibility to pass weight function to A* shortest path search#TITLE_END#Is there a reason the A* path finder `astar.astar_path(G, source, target, heuristic=None, weight='weight')` does not allow for a weight function like is possible for e.g. dijkstra? I'd like to hide specific edges depending on their attributes by setting their weight to `None` like is exemplified under "Notes" at https://networkx.github.io/documentation/stable/reference/algorithms/generated/networkx.algorithms.shortest_paths.weighted.single_source_dijkstra.html#networkx.algorithms.shortest_paths.weighted.single_source_dijkstra.    I just tried myself to allow for a function by manually changing after line https://github.com/networkx/networkx/blob/b8460be7b055dc18e2fdde3b8739d41f0c0064a3/networkx/algorithms/shortest_paths/astar.py#L114 to instead of calling `w.get(weight, 1)` do: ``` wgt = weight(curnode, neighbor, w) if wgt is None:     continue # ignore edge ncost = dist + wgt ``` I didn't test this thoroughly but seems to work nicely on my small example (i.e. edges with `None` are avoided in the solution). If I'm not missing something, perhaps this could be added?
issue
A* outperforms Dijkstra when heuristic=None#TITLE_END#I'm finding the shortest path in a graph, and comparing Dijkstra vs. A* without heuristic, which should reduce to Dijkstra. However, I find the solution much quicker with A*. Is this expected (different implementations?)? I'm routing on a graph with some 500k nodes and 1.3M edges representing a part of the Swedish road network. The time to find the solution is evaluated as `end-start` according to the below. ``` start = time.time() # start clock if algo == "dijkstra":     cost, path = nx.algorithms.shortest_paths.weighted.single_source_dijkstra(grph, nodeA, nodeB, weight=weight) elif algo == "astar":      path = nx.algorithms.shortest_paths.astar.astar_path(grph, nodeA, nodeB, weight=weight, heuristic=None)      cost = sum(grph[u][v].get(weight, 1) for u, v in zip(path[:-1], path[1:])) # taken from implementation https://networkx.github.io/documentation/networkx-2.4/_modules/networkx/algorithms/shortest_paths/astar.html#astar_path_length end = time.time() ``` Below is a comparison between the algorithms for some different routes. The cost is always the same between Dijkstra and A*, last number shows the time (in seconds).  Route                          Algorithm          Cost             Time (s) 208624 -> 60399    dijkstra           470798.71       34.5 208624 -> 60399    astar             470798.71        2.0 208624 -> 38901    dijkstra         449584.69       18.8 208624 -> 38901    astar               449584.69        1.8 208624 -> 399031   dijkstra          334905.85        9.4 208624 -> 399031   astar             334905.85        1.5  
