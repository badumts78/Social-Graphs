issue
Remove serialisation artifacts on adjacency_graph#TITLE_END#- Deserialised Serialised Graph should be equal to Graph - Deserialisation should not modify serialised object  Fixes #5980
issue
Deserialisation artifacts in adjacency_graph#TITLE_END#### Current Behavior  Serialising and deserialising a Graph using the matched pair json_graph.adjacency_data and json_graph.adjacency_graph produces a graph which is not equal to the incoming graph using the graphs_equal method. This is because adjacency.py:152 and adjacency.py:156 set the edge attributes to a dictionary containing the successor node of the edge, rather than to the dictionary from which it has been popped:      for i, d in enumerate(data["adjacency"]):         source = mapping[i]         for tdata in d:             target_data = tdata.copy()             target = target_data.pop(id_)             if not multigraph:                 graph.add_edge(source, target)                 graph[source][target].update(tdata)  # Should be target_data, which has v removed             else:                 ky = target_data.pop(key, None)                 graph.add_edge(source, target, key=ky)                 graph[source][target][ky].update(tdata)  # Should be target_data, which has v removed  ### Expected Behavior  A Graph when serialised and deserialised with paired methods should be equal to itself, if its nodes are defined in a way to enable the equality.  ### Steps to Reproduce       def test_deserialized_graph_equal(self):         G = nx.MultiGraph()         G.add_edge(1, 2, key="first")         G.add_edge(1, 2, key="second", color="blue")         H = adjacency_graph(adjacency_data(G))         assert graphs_equal(G, H) #  == False  ### Environment  Python version: 3.10 NetworkX version: 2.8.6  ### Additional context  I have a patchset ready to go with a fix, opening this bug report to attach to.
issue
Tests without assertions#TITLE_END#### Current Behavior  Multiple tests lack assertions and are therefore incapable of failing.  ### Expected Behavior  A test should (conceptually) be able to report a failure if a condition is not true.  ### Steps to Reproduce  e.g. test_adjacency.py:11      def test_graph(self):         G = nx.path_graph(4)         H = adjacency_graph(adjacency_data(G))         nx.is_isomorphic(G, H)  which does not report a failed test with the following alteration:      def test_graph(self):         G = nx.path_graph(4)         H = adjacency_graph(adjacency_data(G))         nx.is_isomorphic(G, nx.path_graph(1))  ### Environment  Python version: 3.10 NetworkX version: 2.8.6  ### Additional context  I will submit a patchset linked to this issue with some obvious cases knocked off, but I suspect there will be more the harder I look. 
issue
Add missing asserts to tests#TITLE_END#Fix #5981.
issue
Bugfix for issue 5980 and 5891#TITLE_END#removes deserialisation artifacts from adjacency_graph: fixes #5980  ensures assert called when nx.is_isomorphic is used in tests: at least partial fix for #5981 
