issue
Key value error when iterating through edges#TITLE_END#<!-- If you have a general question about NetworkX, please use the discussions tab to create a new discussion -->  <!--- Provide a general summary of the issue in the Title above --> Hello everybody. I'm currently developing an agent-based model that features a network in which agents dynamically create links between each other. These links have some attributes, among which "expiry".   At a certain point in the code, I need to create lists of all in_edges and out_edges pertaining to a certain node ("self", as I'm creating a class method; "model" is another class which is passed into the agent as an __init__ argument, and which contains the network) for which "expiry" takes certain values. I use list comprehension:  ` out_contracts_2_3=[(a,b) for a,b in self.model.modelgraph.out_edges(self) if self.model.modelgraph[a][b]["expiry"]==2 or self.model.modelgraph[a][b]["expiry"]==3] `  ` in_contracts_2_3=[(a,b) for a,b in self.model.modelgraph.in_edges(self) if self.model.modelgraph[a][b]["expiry"]==2 or self.model.modelgraph[a][b]["expiry"]==3] `  At the first turn, the list is empty: the model is initialized with no links among the nodes. When I run the code, Python immediately raises   `KeyError: 'expiry'`  At first, I thought that the problem was the emptiness of the list, so I tried to enclose the above code in an if statement, that would not consider the above line of codes if `[(a,b) for a,b in self.model.modelgraph.out_edges(self)]` or `[(a,b) for a,b in self.model.modelgraph.in_edges(self)]` were empty lists, but the error is raised anyway. The funny thing is that the error is raised only for the second line of code, despite the two being exactly the same.  Does anyway have any idea of what's going on? It may be a naive issue, but I'm really a Python beginner...  Thanks!     
