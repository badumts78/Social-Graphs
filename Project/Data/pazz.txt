issue
no self-loops in random (di)graphs?#TITLE_END#I'm using `networkx.fast_gnp_random_graph` to generate random directed graphs but I've just realized that this explicitly excludes self-loops, as suggested in the docstring: https://github.com/networkx/networkx/blob/master/networkx/generators/random_graphs.py#L66  Out of interest, why is that? For comparison, a [haskell implementation I've found](https://hackage.haskell.org/package/graph-generators-0.1.3.0/docs/Data-Graph-Generators-Random-ErdosRenyi.html) handles self-loops differently.  Would you be interested in a patch that optionally changes this behaviour?
comment
Hi! Sorry to bring this up again but I might have run into a related issue: I've dug up an old project of mine to generate particular random graphs (https://github.com/pazz/egsolver) and noticed that my code fails in a similar way as you describe here.  It happens in `function.py` instead of `multigraph.py` though. To reproduce quickly:  ``` git clone git@github.com:pazz/egsolver.git && cd egsolver ./setup.py develop --user ```  Now, the command  ``` egsolver generate 5 0.5 0.5 10 ```  should generate some graph and print it. However:    ``` ERROR unhashable type: 'dict' Traceback (most recent call last):   File "/home/pazz/projects/mpg/egsolver/egsolver/main.py", line 144, in main     COMMANDS[args.cmd](args)   File "/home/pazz/projects/mpg/egsolver/egsolver/main.py", line 37, in generate     args.nosinks)   File "/home/pazz/projects/mpg/egsolver/egsolver/generators.py", line 32, in random_energy_game     nx.set_edge_attributes(eg, 'effect', effect)   File "/home/pazz/.local/lib/python2.7/site-packages/networkx-2.1rc1.dev20171008103319-py2.7.egg/networkx/classes/function.py", line 763, in set_edge_attributes     data[name] = values TypeError: unhashable type: 'dict' ```   As the trace suggests, This happens on a networkx version from a recent master branch from github.  An example value of the variable `effect` is this.  ``` {(0, 1): -9, (1, 3): 0, (4, 1): -10, (3, 1): -5, (2, 1): -3, (2, 4): -6, (2, 0): -3, (2, 3): -4, (4, 2): 1, (0, 3): -8, (3, 4): -10, (0, 2): -8, (4, 0): -7} ```    
comment
Oh snap! Sorry for the spam.  I just realized that the signature of `set_edge_attributes` must have changed since I last checked. The order of its parameters is now `(graph, values, name)` and not `(graph, name, values)`. I wasn't aware of this change (and will now use named arguments to be sure).  Sorry again. 
