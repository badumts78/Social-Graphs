issue
https://networkx.org/documentation/latest/release/release_2.8.8.html title is "NetworkX 2.8.7"#TITLE_END#Going to https://networkx.org/documentation/stable/release/release_2.8.8.html, the title od the page is "NetworkX 2.8.7", which is quite confusing, since there's already https://networkx.org/documentation/latest/release/release_2.8.7.html for that release
issue
networkx/2.1: tests failures: test_agraph.TestAGraph.test_multi_directed + test_agraph.TestAGraph.test_multi_undirected#TITLE_END#Hello, when building networkx version 2.1 for debian we get the following unittest failures:  python2.7: ``` ====================================================================== FAIL: test_agraph.TestAGraph.test_multi_directed ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python2.7/dist-packages/nose/case.py", line 197, in runTest     self.test(*self.arg)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 69, in test_multi_directed     self.agraph_checks(nx.MultiDiGraph())   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 36, in agraph_checks     self.assert_equal(G, H)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 29, in assert_equal     assert_edges_equal(G1.edges(), G2.edges())   File "/build/python-networkx-2.1/networkx/testing/utils.py", line 43, in assert_edges_equal     assert_equal(c1, c2) AssertionError: 4 != 3     '4 != 3' = '%s != %s' % (safe_repr(4), safe_repr(3))     '4 != 3' = self._formatMessage('4 != 3', '4 != 3') >>  raise self.failureException('4 != 3')       ====================================================================== FAIL: test_agraph.TestAGraph.test_multi_undirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python2.7/dist-packages/nose/case.py", line 197, in runTest     self.test(*self.arg)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 66, in test_multi_undirected     self.agraph_checks(nx.MultiGraph())   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 36, in agraph_checks     self.assert_equal(G, H)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 29, in assert_equal     assert_edges_equal(G1.edges(), G2.edges())   File "/build/python-networkx-2.1/networkx/testing/utils.py", line 43, in assert_edges_equal     assert_equal(c1, c2) AssertionError: 4 != 3     '4 != 3' = '%s != %s' % (safe_repr(4), safe_repr(3))     '4 != 3' = self._formatMessage('4 != 3', '4 != 3') >>  raise self.failureException('4 != 3') ```  python3.6: ``` FAIL: test_agraph.TestAGraph.test_multi_directed ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 197, in runTest     self.test(*self.arg)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 69, in test_multi_directed     self.agraph_checks(nx.MultiDiGraph())   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 36, in agraph_checks     self.assert_equal(G, H)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 29, in assert_equal     assert_edges_equal(G1.edges(), G2.edges())   File "/build/python-networkx-2.1/networkx/testing/utils.py", line 43, in assert_edges_equal     assert_equal(c1, c2) AssertionError: 4 != 3     '4 != 3' = '%s != %s' % _common_shorten_repr(4, 3)     '4 != 3' = self._formatMessage('4 != 3', '4 != 3') >>  raise self.failureException('4 != 3')       ====================================================================== FAIL: test_agraph.TestAGraph.test_multi_undirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 197, in runTest     self.test(*self.arg)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 66, in test_multi_undirected     self.agraph_checks(nx.MultiGraph())   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 36, in agraph_checks     self.assert_equal(G, H)   File "/build/python-networkx-2.1/networkx/drawing/tests/test_agraph.py", line 29, in assert_equal     assert_edges_equal(G1.edges(), G2.edges())   File "/build/python-networkx-2.1/networkx/testing/utils.py", line 43, in assert_edges_equal     assert_equal(c1, c2) AssertionError: 4 != 3     '4 != 3' = '%s != %s' % _common_shorten_repr(4, 3)     '4 != 3' = self._formatMessage('4 != 3', '4 != 3') >>  raise self.failureException('4 != 3') ```
issue
doc/_static/copybutton.js is missing from PyPI tarball for networkx 2.1#TITLE_END#Hello, `doc/_static/copybutton.js` is currently missing while it's being referred by almost all the HTML webpage.  can you please add it to the PyPI released tarball?  thanks!
issue
Examples expected to fail, but not failling: examples/advanced/plot_parallel_betweenness.py#TITLE_END#Hello, when building the doc for networkx/2.1 as downloaded by PyPI i get this error:  ```copying extra files... done dumping search index in English (code: en) ... done dumping object inventory... done build succeeded, 142 warnings.  Exception occurred:   File "/usr/lib/python2.7/dist-packages/sphinx_gallery/gen_gallery.py", line 329, in sumarize_failing_examples     "\n" + "-" * 79) ValueError: Here is a summary of the problems encountered when running the examples  Examples expected to fail, but not failling: Please remove these examples from sphinx_gallery_conf['expected_failing_examples'] /home/morph/deb/build-area/python-networkx-2.1/examples/advanced/plot_parallel_betweenness.py ------------------------------------------------------------------------------- The full traceback has been saved in /tmp/sphinx-err-5Xa_W9.log, if you want to report the issue to the developers. ```  content of that file is:  ``` $  cat /tmp/sphinx-err-5Xa_W9.log # Sphinx version: 1.6.6 # Python version: 2.7.14+ (CPython) # Docutils version: 0.14  # Jinja2 version: 2.10 # Last messages: #    #   copying static files... #   done #   copying extra files... #   done #   dumping search index in English (code: en) ... #   done #   dumping object inventory... #   done #   build succeeded, 142 warnings. # Loaded extensions: #   sphinx_gallery.gen_gallery (0.1.13) from /usr/lib/python2.7/dist-packages/sphinx_gallery/gen_gallery.pyc #   sphinx.ext.mathjax (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/mathjax.pyc #   sphinx.ext.coverage (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/coverage.pyc #   sphinx.ext.viewcode (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/viewcode.pyc #   sphinx.ext.napoleon (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/napoleon/__init__.pyc #   sphinx.ext.todo (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/todo.pyc #   sphinx.ext.autodoc (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/autodoc.pyc #   sphinx.ext.intersphinx (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/intersphinx.pyc #   sphinx.ext.doctest (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/doctest.pyc #   alabaster (0.7.8) from /usr/lib/python2.7/dist-packages/alabaster/__init__.pyc #   nb2plots (unknown version) from /usr/lib/python2.7/dist-packages/nb2plots/__init__.pyc #   texext (unknown version) from /usr/lib/python2.7/dist-packages/texext/__init__.pyc #   sphinx.ext.autosummary (1.6.6) from /usr/lib/python2.7/dist-packages/sphinx/ext/autosummary/__init__.pyc Traceback (most recent call last):   File "/usr/lib/python2.7/dist-packages/sphinx/cmdline.py", line 306, in main     app.build(opts.force_all, filenames)   File "/usr/lib/python2.7/dist-packages/sphinx/application.py", line 357, in build     self.emit('build-finished', None)   File "/usr/lib/python2.7/dist-packages/sphinx/application.py", line 489, in emit     return self.events.emit(event, self, *args)   File "/usr/lib/python2.7/dist-packages/sphinx/events.py", line 79, in emit     results.append(callback(*args))   File "/usr/lib/python2.7/dist-packages/sphinx_gallery/gen_gallery.py", line 329, in sumarize_failing_examples     "\n" + "-" * 79) ValueError: Here is a summary of the problems encountered when running the examples  Examples expected to fail, but not failling: Please remove these examples from sphinx_gallery_conf['expected_failing_examples'] /home/morph/deb/build-area/python-networkx-2.1/examples/advanced/plot_parallel_betweenness.py ------------------------------------------------------------------------------- ```
issue
networkx 2.1 error building doc with sphinx 1.7.2#TITLE_END#Hello, when building the doc with sphinx 1.7.2 i got this error:  ``` sphinx-build -b html -d build/doctrees   . build/html Running Sphinx v1.6.6 making output directory... /usr/lib/python2.7/dist-packages/IPython/nbconvert.py:13: ShimWarning: The `IPython.nbconvert` package has been deprecated since IPython 4.0. You should import from nbconvert instead.   "You should import from nbconvert instead.", ShimWarning) Change of translator for the pyfile builder. Change of translator for the ipynb builder. loading pickled environment... not yet created [autosummary] generating autosummary for: bibliography.rst, citing.rst, credits.rst, developer/contribute.rst, developer/gitwash/configure_git.rst, developer/gitwash/development_workflow.rst, developer/gitwash/following_latest.rst, developer/gitwash/forking_hell.rst, developer/gitwash/git_development.rst, developer/gitwash/git_install.rst, ..., release/api_1.7.rst, release/api_1.8.rst, release/api_1.9.rst, release/index.rst, release/migration_guide_from_1.x_to_2.0.rst, release/release_2.0.rst, release/release_2.1.rst, release/release_dev.rst, release/release_template.rst, tutorial.rst [autosummary] generating autosummary for: /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.clique.clique_removal.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.clique.large_clique_size.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.clique.max_clique.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.clustering_coefficient.average_clustering.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.connectivity.all_pairs_node_connectivity.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.connectivity.local_node_connectivity.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.connectivity.node_connectivity.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.dominating_set.min_edge_dominating_set.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.dominating_set.min_weighted_dominating_set.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/algorithms/generated/networkx.algorithms.approximation.independent_set.maximum_independent_set.rst, ..., /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.nx_shp.write_shp.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.nx_yaml.read_yaml.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.nx_yaml.write_yaml.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.pajek.parse_pajek.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.pajek.read_pajek.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.pajek.write_pajek.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.sparse6.from_sparse6_bytes.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.sparse6.read_sparse6.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.sparse6.to_sparse6_bytes.rst, /home/morph/deb/build-area/python-networkx-2.1/doc/reference/readwrite/generated/networkx.readwrite.sparse6.write_sparse6.rst loading intersphinx inventory from ../../debian/python.org_objects.inv... WARNING: intersphinx inventory '../../debian/python.org_objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: u'/home/morph/deb/build-area/python-networkx-2.1/doc/../../debian/python.org_objects.inv' loading intersphinx inventory from ../../debian/scipy.org_numpy_objects.inv... WARNING: intersphinx inventory '../../debian/scipy.org_numpy_objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: u'/home/morph/deb/build-area/python-networkx-2.1/doc/../../debian/scipy.org_numpy_objects.inv' generating gallery...  Exception occurred:   File "/usr/lib/python2.7/dist-packages/sphinx_gallery/gen_gallery.py", line 222, in generate_gallery_rst     .format(examples_dir)) IOError: Main example directory /home/morph/deb/build-area/python-networkx-2.1/doc/../examples does not have a README.txt file. Please write one to introduce your gallery. The full traceback has been saved in /tmp/sphinx-err-SnsvwK.log, if you want to report the issue to the developers. ```  content of `/tmp/sphinx-err-SnsvwK.log` is:  ``` # Sphinx version: 1.6.6 # Python version: 2.7.14+ (CPython) # Docutils version: 0.14  # Jinja2 version: 2.10 # Last messages:  # Loaded extensions: Traceback (most recent call last):   File "/usr/lib/python2.7/dist-packages/sphinx/cmdline.py", line 305, in main     opts.warningiserror, opts.tags, opts.verbosity, opts.jobs)   File "/usr/lib/python2.7/dist-packages/sphinx/application.py", line 234, in __init__     self._init_builder()   File "/usr/lib/python2.7/dist-packages/sphinx/application.py", line 312, in _init_builder     self.emit('builder-inited')   File "/usr/lib/python2.7/dist-packages/sphinx/application.py", line 489, in emit     return self.events.emit(event, self, *args)   File "/usr/lib/python2.7/dist-packages/sphinx/events.py", line 79, in emit     results.append(callback(*args))   File "/usr/lib/python2.7/dist-packages/sphinx_gallery/gen_gallery.py", line 222, in generate_gallery_rst     .format(examples_dir)) IOError: Main example directory /home/morph/deb/build-area/python-networkx-2.1/doc/../examples does not have a README.txt file. Please write one to introduce your gallery. ```  can you have a look?  thanks!
issue
Port pygraphviz to Python 3#TITLE_END#Hello, I'm not sure if the code base is already ported to py3k (in case, this request covers that too) because setup.py gives errors when trying to run it with python3:  ``` $ python3 setup.py bui   File "setup.py", line 23     print "To install, run 'python setup.py install'"                                                     ^ SyntaxError: invalid syntax ```  Regards, Sandro 
issue
networkx raises TypeError when reading input from .gml file#TITLE_END#Hello, I'm reporting the Debian bug #735776 :   ``` networkx raises TypeError when reading input from .gml file:  $ python cart_product.py c3.gml c3.gml graph [   node [     id 0 Traceback (most recent call last):   File "cart_product.py", line 22, in <module>     for line in nx.generate_gml(X):   File "/usr/lib/pymodules/python2.7/networkx/readwrite/gml.py", line 328, in generate_gml     yield 2*indent+'label %s'%label TypeError: not all arguments converted during string formatting  [8<]  It seems that bug is fixed by applying the following patch (tested for debian stable and sid):  --- a/networkx/readwrite/gml.py +++ b/networkx/readwrite/gml.py @@ -325,7 +325,7 @@          label=G.node[n].get('label',n)          if is_string_like(label):              label='"%s"'%label -        yield 2*indent+'label %s'%label +        yield 2*indent+'label {0}'.format(label)          if n in G:            for k,v in G.node[n].items():                if k=='id' or k == 'label': continue ``` 
issue
Errors running test for py3k, version 1.8#TITLE_END#Hello, while preparing the Debian package for 1.8, in which we build the same source for several python versions (in this case, 2.7 and 3.3), we're unable to run tests for py3k:  ``` set -e ; \     # running tests Python 3 for py in python3.3 ; do\         PYTHONPATH=build/lib.linux-x86_64-3.3 $py setup_egg.py nosetests ; \     done running nosetests running egg_info writing top-level names to networkx.egg-info/top_level.txt writing dependency_links to networkx.egg-info/dependency_links.txt writing networkx.egg-info/PKG-INFO error: package directory 'networkx/external/decorator/decorator3' does not exist ```  indeed there's no decorator3:  ``` $ tree networkx/external/decorator/ networkx/external/decorator/ ├── decorator2 │   ├── _decorator2.py │   └── __init__.py └── __init__.py  1 directory, 3 files ```  Regards, Sandro 
issue
Networkx - don't install _decorator.py when installing for python3#TITLE_END#Hello, I'm preparing the Debian package for py3k networkx, and I noticed that networkx/external/decorator/_decorator.py is installed even if it's not python3 code, and so trying to byte-compiling it would result in an error. It would be nice if that file could be skipped from installation when this is performed for python3.  Regards, Sandro 
comment
I got test errors & failures on python3 in a clean chroot with debian unstable:  py3.5:  ``` ====================================================================== ERROR: test_pydot.TestPydot.testDirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 198, in runTest     self.test(*self.arg)   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 61, in testDirected     self.pydot_checks(nx.DiGraph())   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 41, in pydot_checks     Pin = pydot.graph_from_dot_file(fname)   File "/usr/lib/python3/dist-packages/pydot.py", line 235, in graph_from_dot_file     return graph_from_dot_data(data)   File "/usr/lib/python3/dist-packages/pydot.py", line 220, in graph_from_dot_data     return dot_parser.parse_dot_data(data)   File "/usr/lib/python3/dist-packages/dot_parser.py", line 520, in parse_dot_data     tokens = graphparser.parseString(data)   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1115, in parseString     loc, tokens = self._parse( instring, 0 )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 983, in _parseNoCache     preloc = self.preParse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 940, in preParse     loc = self._skipIgnorables( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 932, in _skipIgnorables     loc,dummy = e._parse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 989, in _parseNoCache     loc,tokens = self.parseImpl( instring, preloc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 2624, in parseImpl     return self.expr._parse( instring, loc, doActions, callPreParse=False )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 989, in _parseNoCache     loc,tokens = self.parseImpl( instring, preloc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 2483, in parseImpl     ret = e._parse( instring, loc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 983, in _parseNoCache     preloc = self.preParse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 945, in preParse     while loc < instrlen and instring[loc] in wt: TypeError: 'in <string>' requires string as left operand, not int  ====================================================================== FAIL: Doctest: networkx.drawing.nx_agraph.graphviz_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.5/doctest.py", line 2189, in runTest     raise self.failureException(self.format_failure(new.getvalue())) AssertionError: Failed doctest test for networkx.drawing.nx_agraph.graphviz_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 198, in graphviz_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 218, in networkx.drawing.nx_agraph.graphviz_layout Failed example:     pos=nx.graphviz_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.graphviz_layout[1]>", line 1, in <module>         pos=nx.graphviz_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 219, in networkx.drawing.nx_agraph.graphviz_layout Failed example:     pos=nx.graphviz_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.graphviz_layout[2]>", line 1, in <module>         pos=nx.graphviz_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7f45468dee58>.getvalue()))   ====================================================================== FAIL: Doctest: networkx.drawing.nx_agraph.pygraphviz_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.5/doctest.py", line 2189, in runTest     raise self.failureException(self.format_failure(new.getvalue())) AssertionError: Failed doctest test for networkx.drawing.nx_agraph.pygraphviz_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 228, in pygraphviz_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 248, in networkx.drawing.nx_agraph.pygraphviz_layout Failed example:     pos=nx.graphviz_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.pygraphviz_layout[1]>", line 1, in <module>         pos=nx.graphviz_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 249, in networkx.drawing.nx_agraph.pygraphviz_layout Failed example:     pos=nx.graphviz_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.pygraphviz_layout[2]>", line 1, in <module>         pos=nx.graphviz_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7f4546dd6678>.getvalue()))   ====================================================================== FAIL: Doctest: networkx.drawing.nx_pydot.graphviz_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.5/doctest.py", line 2189, in runTest     raise self.failureException(self.format_failure(new.getvalue())) AssertionError: Failed doctest test for networkx.drawing.nx_pydot.graphviz_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 242, in graphviz_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 250, in networkx.drawing.nx_pydot.graphviz_layout Failed example:     pos=nx.graphviz_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.graphviz_layout[1]>", line 1, in <module>         pos=nx.graphviz_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 251, in networkx.drawing.nx_pydot.graphviz_layout Failed example:     pos=nx.graphviz_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.graphviz_layout[2]>", line 1, in <module>         pos=nx.graphviz_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7f45467f7d38>.getvalue()))   ====================================================================== FAIL: Doctest: networkx.drawing.nx_pydot.pydot_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.5/doctest.py", line 2189, in runTest     raise self.failureException(self.format_failure(new.getvalue())) AssertionError: Failed doctest test for networkx.drawing.nx_pydot.pydot_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 260, in pydot_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 268, in networkx.drawing.nx_pydot.pydot_layout Failed example:     pos=nx.pydot_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.pydot_layout[1]>", line 1, in <module>         pos=nx.pydot_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 269, in networkx.drawing.nx_pydot.pydot_layout Failed example:     pos=nx.pydot_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.5/doctest.py", line 1320, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.pydot_layout[2]>", line 1, in <module>         pos=nx.pydot_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7f45467dbf78>.getvalue()))   ====================================================================== FAIL: test_pydot.TestPydot.testUndirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 198, in runTest     self.test(*self.arg)   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 58, in testUndirected     self.pydot_checks(nx.Graph())   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 36, in pydot_checks     self.assert_equal(H, G2)   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 31, in assert_equal     assert_true( sorted(G1.edges())==sorted(G2.edges()) ) AssertionError: False is not true     'False is not true' = self._formatMessage('False is not true', "%s is not true" % safe_repr(False)) >>  raise self.failureException('False is not true')   ---------------------------------------------------------------------- Ran 2758 tests in 47.515s  FAILED (SKIP=6, errors=1, failures=5) ```  py3.4:  ``` ====================================================================== ERROR: test_pydot.TestPydot.testDirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 198, in runTest     self.test(*self.arg)   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 61, in testDirected     self.pydot_checks(nx.DiGraph())   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 41, in pydot_checks     Pin = pydot.graph_from_dot_file(fname)   File "/usr/lib/python3/dist-packages/pydot.py", line 235, in graph_from_dot_file     return graph_from_dot_data(data)   File "/usr/lib/python3/dist-packages/pydot.py", line 220, in graph_from_dot_data     return dot_parser.parse_dot_data(data)   File "/usr/lib/python3/dist-packages/dot_parser.py", line 520, in parse_dot_data     tokens = graphparser.parseString(data)   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1115, in parseString     loc, tokens = self._parse( instring, 0 )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 983, in _parseNoCache     preloc = self.preParse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 940, in preParse     loc = self._skipIgnorables( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 932, in _skipIgnorables     loc,dummy = e._parse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 989, in _parseNoCache     loc,tokens = self.parseImpl( instring, preloc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 2624, in parseImpl     return self.expr._parse( instring, loc, doActions, callPreParse=False )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 989, in _parseNoCache     loc,tokens = self.parseImpl( instring, preloc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 2483, in parseImpl     ret = e._parse( instring, loc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 983, in _parseNoCache     preloc = self.preParse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 945, in preParse     while loc < instrlen and instring[loc] in wt: TypeError: 'in <string>' requires string as left operand, not int  ====================================================================== ERROR: test_pydot.TestPydot.testUndirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 198, in runTest     self.test(*self.arg)   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 58, in testUndirected     self.pydot_checks(nx.Graph())   File "/build/python-networkx-1.11~rc1/networkx/drawing/tests/test_pydot.py", line 41, in pydot_checks     Pin = pydot.graph_from_dot_file(fname)   File "/usr/lib/python3/dist-packages/pydot.py", line 235, in graph_from_dot_file     return graph_from_dot_data(data)   File "/usr/lib/python3/dist-packages/pydot.py", line 220, in graph_from_dot_data     return dot_parser.parse_dot_data(data)   File "/usr/lib/python3/dist-packages/dot_parser.py", line 520, in parse_dot_data     tokens = graphparser.parseString(data)   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1115, in parseString     loc, tokens = self._parse( instring, 0 )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 983, in _parseNoCache     preloc = self.preParse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 940, in preParse     loc = self._skipIgnorables( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 932, in _skipIgnorables     loc,dummy = e._parse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 989, in _parseNoCache     loc,tokens = self.parseImpl( instring, preloc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 2624, in parseImpl     return self.expr._parse( instring, loc, doActions, callPreParse=False )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 989, in _parseNoCache     loc,tokens = self.parseImpl( instring, preloc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 2483, in parseImpl     ret = e._parse( instring, loc, doActions )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 1046, in _parseCache     value = self._parseNoCache( instring, loc, doActions, callPreParse )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 983, in _parseNoCache     preloc = self.preParse( instring, loc )   File "/usr/lib/python3/dist-packages/pyparsing.py", line 945, in preParse     while loc < instrlen and instring[loc] in wt: TypeError: 'in <string>' requires string as left operand, not int  ====================================================================== FAIL: Doctest: networkx.drawing.nx_agraph.graphviz_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.4/doctest.py", line 2187, in runTest     raise self.failureException(self.format_failure(new.getvalue())) nose.proxy.AssertionError: Failed doctest test for networkx.drawing.nx_agraph.graphviz_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 198, in graphviz_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 218, in networkx.drawing.nx_agraph.graphviz_layout Failed example:     pos=nx.graphviz_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.graphviz_layout[1]>", line 1, in <module>         pos=nx.graphviz_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 219, in networkx.drawing.nx_agraph.graphviz_layout Failed example:     pos=nx.graphviz_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.graphviz_layout[2]>", line 1, in <module>         pos=nx.graphviz_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7fd4317c8948>.getvalue()))   ====================================================================== FAIL: Doctest: networkx.drawing.nx_agraph.pygraphviz_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.4/doctest.py", line 2187, in runTest     raise self.failureException(self.format_failure(new.getvalue())) nose.proxy.AssertionError: Failed doctest test for networkx.drawing.nx_agraph.pygraphviz_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 228, in pygraphviz_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 248, in networkx.drawing.nx_agraph.pygraphviz_layout Failed example:     pos=nx.graphviz_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.pygraphviz_layout[1]>", line 1, in <module>         pos=nx.graphviz_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 249, in networkx.drawing.nx_agraph.pygraphviz_layout Failed example:     pos=nx.graphviz_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.pygraphviz_layout[2]>", line 1, in <module>         pos=nx.graphviz_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7fd430faa9d8>.getvalue()))   ====================================================================== FAIL: Doctest: networkx.drawing.nx_pydot.graphviz_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.4/doctest.py", line 2187, in runTest     raise self.failureException(self.format_failure(new.getvalue())) nose.proxy.AssertionError: Failed doctest test for networkx.drawing.nx_pydot.graphviz_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 242, in graphviz_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 250, in networkx.drawing.nx_pydot.graphviz_layout Failed example:     pos=nx.graphviz_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.graphviz_layout[1]>", line 1, in <module>         pos=nx.graphviz_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 251, in networkx.drawing.nx_pydot.graphviz_layout Failed example:     pos=nx.graphviz_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.graphviz_layout[2]>", line 1, in <module>         pos=nx.graphviz_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7fd430faae58>.getvalue()))   ====================================================================== FAIL: Doctest: networkx.drawing.nx_pydot.pydot_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.4/doctest.py", line 2187, in runTest     raise self.failureException(self.format_failure(new.getvalue())) nose.proxy.AssertionError: Failed doctest test for networkx.drawing.nx_pydot.pydot_layout   File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 260, in pydot_layout  ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 268, in networkx.drawing.nx_pydot.pydot_layout Failed example:     pos=nx.pydot_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.pydot_layout[1]>", line 1, in <module>         pos=nx.pydot_layout(G)       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found ---------------------------------------------------------------------- File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 269, in networkx.drawing.nx_pydot.pydot_layout Failed example:     pos=nx.pydot_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_pydot.pydot_layout[2]>", line 1, in <module>         pos=nx.pydot_layout(G,prog='dot')       File "/build/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 277, in pydot_layout         D=P.create_dot(prog=prog)       File "/usr/lib/python3/dist-packages/pydot.py", line 1802, in <lambda>         lambda f=frmt, prog=self.prog : self.create(format=f, prog=prog))       File "/usr/lib/python3/dist-packages/pydot.py", line 2003, in create         stdout_output = ''.join(stdout_output)     TypeError: sequence item 0: expected str instance, bytes found  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7fd4318b9a68>.getvalue()))   ---------------------------------------------------------------------- Ran 2758 tests in 46.406s  FAILED (SKIP=6, errors=2, failures=4) ```  the list of packages and their version installed in the chroot are:  ``` Setting up bsdmainutils (9.0.6+b1) ... Setting up debhelper (9.20151225) ... Setting up dh-python (2.20151103) ... Setting up dh-strip-nondeterminism (0.014-1) ... Setting up docutils-common (0.12+dfsg-1) ... Setting up dvipng (1.14-2+b1) ... Setting up file (1:5.25-2) ... Setting up fontconfig (2.11.0-6.3) ... Setting up fontconfig-config (2.11.0-6.3) ... Setting up fonts-dejavu-core (2.35-1) ... Setting up fonts-font-awesome (4.4.0~dfsg-1) ... Setting up fonts-lato (2.0-1) ... Setting up fonts-lyx (2.1.4-2) ... Setting up gettext (0.19.7-1) ... Setting up gettext-base (0.19.7-1) ... Setting up ghostscript (9.16~dfsg-2) ... Setting up graphviz (2.38.0-12+b1) ... Setting up groff-base (1.22.3-4) ... Setting up gsfonts (1:8.11+urwcyr1.0.7~pre44-4.2) ... Setting up intltool-debian (0.35.0+20060710.4) ... Setting up less (458-3+b1) ... Setting up libarchive-zip-perl (1.55-1) ... Setting up libatk1.0-0:amd64 (2.18.0-1) ... Setting up libatk1.0-data (2.18.0-1) ... Setting up libavahi-client3:amd64 (0.6.32~rc+dfsg-1) ... Setting up libavahi-common3:amd64 (0.6.32~rc+dfsg-1) ... Setting up libavahi-common-data:amd64 (0.6.32~rc+dfsg-1) ... Setting up libblas3 (1.2.20110419-11) ... Setting up libblas-common (1.2.20110419-11) ... Setting up libcairo2:amd64 (1.14.4-1) ... Setting up libcdt5 (2.38.0-12+b1) ... Setting up libcgraph6 (2.38.0-12+b1) ... Setting up libcroco3:amd64 (0.6.11-1) ... Setting up libcups2:amd64 (2.1.2-1) ... Setting up libcupsfilters1:amd64 (1.4.0-1) ... Setting up libcupsimage2:amd64 (2.1.2-1) ... Setting up libdatrie1:amd64 (0.2.10-1) ... Setting up libdbus-1-3:amd64 (1.10.6-1) ... Setting up libexpat1:amd64 (2.1.0-7) ... Setting up libfile-stripnondeterminism-perl (0.014-1) ... Setting up libfontconfig1:amd64 (2.11.0-6.3) ... Setting up libfreetype6:amd64 (2.6.1-0.1) ... Setting up libgd3:amd64 (2.1.1-4) ... Setting up libgdk-pixbuf2.0-0:amd64 (2.32.3-1) ... Setting up libgdk-pixbuf2.0-common (2.32.3-1) ... Setting up libgfortran3:amd64 (5.3.1-5) ... Setting up libglib2.0-0:amd64 (2.46.2-3) ... Setting up libgpm2:amd64 (1.20.4-6.1+b2) ... Setting up libgraphite2-3:amd64 (1.3.4-1) ... Setting up libgs9 (9.16~dfsg-2) ... Setting up libgs9-common (9.16~dfsg-2) ... Setting up libgssapi-krb5-2:amd64 (1.13.2+dfsg-4) ... Setting up libgtk2.0-0:amd64 (2.24.29-1) ... Setting up libgtk2.0-common (2.24.29-1) ... Setting up libgvc6 (2.38.0-12+b1) ... Setting up libgvpr2 (2.38.0-12+b1) ... Setting up libharfbuzz0b:amd64 (1.0.1-1+b1) ... Setting up libharfbuzz-icu0:amd64 (1.0.1-1+b1) ... Setting up libice6:amd64 (2:1.0.9-1+b1) ... Setting up libicu55:amd64 (55.1-6) ... Setting up libidn11:amd64 (1.32-3) ... Setting up libijs-0.35:amd64 (0.35-11) ... Setting up libjbig0:amd64 (2.1-3.1) ... Setting up libjbig2dec0 (0.12+20150918-1) ... Setting up libjpeg62-turbo:amd64 (1:1.4.1-2) ... Setting up libjs-jquery (1.11.3+dfsg-4) ... Setting up libjs-jquery-ui (1.10.1+dfsg-1) ... Setting up libjs-modernizr (2.6.2+ds1-1) ... Setting up libjs-sphinxdoc (1.3.3-1) ... Setting up libjs-underscore (1.7.0~dfsg-1) ... Setting up libk5crypto3:amd64 (1.13.2+dfsg-4) ... Setting up libkeyutils1:amd64 (1.5.9-8) ... Setting up libkpathsea6:amd64 (2015.20150524.37493-7+b1) ... Setting up libkrb5-3:amd64 (1.13.2+dfsg-4) ... Setting up libkrb5support0:amd64 (1.13.2+dfsg-4) ... Setting up liblapack3 (3.5.0-5) ... Setting up liblcms2-2:amd64 (2.6-3+b3) ... Setting up libltdl7:amd64 (2.4.2-1.11) ... Setting up libmagic1:amd64 (1:5.25-2) ... Setting up libmpdec2:amd64 (2.4.1-1) ... Setting up libopenjpeg5:amd64 (1:1.5.2-3.1) ... Setting up libpango-1.0-0:amd64 (1.38.1-1) ... Setting up libpangocairo-1.0-0:amd64 (1.38.1-1) ... Setting up libpangoft2-1.0-0:amd64 (1.38.1-1) ... Setting up libpaper1:amd64 (1.1.24+nmu4) ... Setting up libpaper-utils (1.1.24+nmu4) ... Setting up libpathplan4 (2.38.0-12+b1) ... Setting up libpipeline1:amd64 (1.4.1-1) ... Setting up libpixman-1-0:amd64 (0.33.4-1) ... Setting up libpng12-0:amd64 (1.2.54-1) ... Setting up libpoppler57:amd64 (0.38.0-2) ... Setting up libpotrace0 (1.13-2) ... Setting up libptexenc1:amd64 (2015.20150524.37493-7+b1) ... Setting up libpython2.7-minimal:amd64 (2.7.11-2) ... Setting up libpython2.7-stdlib:amd64 (2.7.11-2) ... Setting up libpython3.4-minimal:amd64 (3.4.4-1) ... Setting up libpython3.4-stdlib:amd64 (3.4.4-1) ... Setting up libpython3.5-minimal:amd64 (3.5.1-2) ... Setting up libpython3.5-stdlib:amd64 (3.5.1-2) ... Setting up libpython3-stdlib:amd64 (3.4.3-7) ... Setting up libpython-stdlib:amd64 (2.7.11-1) ... Setting up libsm6:amd64 (2:1.2.2-1+b1) ... Setting up libsynctex1:amd64 (2015.20150524.37493-7+b1) ... Setting up libtcl8.6:amd64 (8.6.4+dfsg-2) ... Setting up libtexlua52:amd64 (2015.20150524.37493-7+b1) ... Setting up libtexluajit2:amd64 (2015.20150524.37493-7+b1) ... Setting up libthai0:amd64 (0.1.24-1) ... Setting up libthai-data (0.1.24-1) ... Setting up libtiff5:amd64 (4.0.6-1) ... Setting up libtimedate-perl (2.3000-2) ... Setting up libtk8.6:amd64 (8.6.4+dfsg-2) ... Setting up libtrio2:amd64 (1.16+dfsg1-3) ... Setting up libunistring0:amd64 (0.9.3-5.2+b1) ... Setting up libvpx2:amd64 (1.4.0-4) ... Setting up libx11-6:amd64 (2:1.6.3-1) ... Setting up libx11-data (2:1.6.3-1) ... Setting up libxau6:amd64 (1:1.0.8-1) ... Setting up libxaw7:amd64 (2:1.0.13-1) ... Setting up libxcb1:amd64 (1.11.1-1) ... Setting up libxcb-render0:amd64 (1.11.1-1) ... Setting up libxcb-shm0:amd64 (1.11.1-1) ... Setting up libxcomposite1:amd64 (1:0.4.4-1) ... Setting up libxcursor1:amd64 (1:1.1.14-1+b1) ... Setting up libxdamage1:amd64 (1:1.1.4-2+b1) ... Setting up libxdmcp6:amd64 (1:1.1.2-1) ... Setting up libxdot4 (2.38.0-12+b1) ... Setting up libxext6:amd64 (2:1.3.3-1) ... Setting up libxfixes3:amd64 (1:5.0.1-2+b2) ... Setting up libxft2:amd64 (2.3.2-1) ... Setting up libxi6:amd64 (2:1.7.5-1) ... Setting up libxinerama1:amd64 (2:1.1.3-1+b1) ... Setting up libxml2:amd64 (2.9.3+dfsg1-1) ... Setting up libxmu6:amd64 (2:1.1.2-2) ... Setting up libxpm4:amd64 (1:3.5.11-1+b1) ... Setting up libxrandr2:amd64 (2:1.5.0-1) ... Setting up libxrender1:amd64 (1:0.9.9-2) ... Setting up libxss1:amd64 (1:1.2.2-1) ... Setting up libxt6:amd64 (1:1.1.5-1) ... Setting up libzzip-0-13:amd64 (0.13.62-3) ... Setting up man-db (2.7.5-1) ... Setting up mime-support (3.59) ... Setting up pbuilder-satisfydepends-dummy (0.invalid.0) ... Setting up po-debconf (1.0.18) ... Setting up poppler-data (0.4.7-6) ... Setting up preview-latex-style (11.88-1.1) ... Setting up python (2.7.11-1) ... Setting up python2.7 (2.7.11-2) ... Setting up python2.7-minimal (2.7.11-2) ... Setting up python3 (3.4.3-7) ... Setting up python3.4 (3.4.4-1) ... Setting up python3.4-minimal (3.4.4-1) ... Setting up python3.5 (3.5.1-2) ... Setting up python3.5-minimal (3.5.1-2) ... Setting up python3-all (3.4.3-7) ... Setting up python3-cycler (0.9.0-1) ... Setting up python3-dateutil (2.4.2-1) ... Setting up python3-decorator (4.0.6-1) ... Setting up python3-matplotlib (1.5.0~rc2-1) ... Setting up python3-minimal (3.4.3-7) ... Setting up python3-nose (1.3.6-1) ... Setting up python3-numpy (1:1.9.2-5) ... Setting up python3-pkg-resources (18.8-1) ... Setting up python3-pydot (1.0.28-1) ... Setting up python3-pygraphviz (1.3~rc2-3+b1) ... Setting up python3-pyparsing (2.0.3+dfsg1-1) ... Setting up python3-scipy (0.16.1-1) ... Setting up python3-setuptools (18.8-1) ... Setting up python3-six (1.10.0-1) ... Setting up python3-tz (2012c+dfsg-0.1) ... Setting up python-alabaster (0.7.6-1) ... Setting up python-all (2.7.11-1) ... Setting up python-babel (1.3+dfsg.1-6) ... Setting up python-babel-localedata (1.3+dfsg.1-6) ... Setting up python-cycler (0.9.0-1) ... Setting up python-dateutil (2.4.2-1) ... Setting up python-decorator (4.0.6-1) ... Setting up python-docutils (0.12+dfsg-1) ... Setting up python-jinja2 (2.8-1) ... Setting up python-markupsafe (0.23-2+b1) ... Setting up python-matplotlib (1.5.0~rc2-1) ... Setting up python-matplotlib-data (1.5.0~rc2-1) ... Setting up python-minimal (2.7.11-1) ... Setting up python-nose (1.3.6-1) ... Setting up python-numpy (1:1.9.2-5) ... Setting up python-numpydoc (0.5-2) ... Setting up python-pkg-resources (18.8-1) ... Setting up python-pydot (1.0.28-1) ... Setting up python-pygments (2.0.1+dfsg-1.1) ... Setting up python-pygraphviz (1.3~rc2-3+b1) ... Setting up python-pyparsing (2.0.3+dfsg1-1) ... Setting up python-roman (2.0.0-2) ... Setting up python-scipy (0.16.1-1) ... Setting up python-setuptools (18.8-1) ... Setting up python-six (1.10.0-1) ... Setting up python-sphinx (1.3.3-1) ... Setting up python-sphinx-rtd-theme (0.1.9-1) ... Setting up python-tz (2012c+dfsg-0.1) ... Setting up sgml-base (1.26+nmu4) ... Setting up shared-mime-info (1.5-2) ... Setting up sphinx-common (1.3.3-1) ... Setting up sphinx-rtd-theme-common (0.1.9-1) ... Setting up t1utils (1.38-4) ... Setting up tex-common (6.04) ... Setting up texlive-base (2015.20151225-1) ... Setting up texlive-binaries (2015.20150524.37493-7+b1) ... Setting up texlive-fonts-recommended (2015.20151225-1) ... Setting up texlive-latex-base (2015.20151225-1) ... Setting up texlive-latex-extra (2015.20151225-2) ... Setting up texlive-latex-recommended (2015.20151225-1) ... Setting up texlive-pictures (2015.20151225-1) ... Setting up ucf (3.0031) ... Setting up vim (2:7.4.963-1+b1) ... Setting up vim-common (2:7.4.963-1+b1) ... Setting up vim-runtime (2:7.4.963-1) ... Setting up x11-common (1:7.7+12) ... Setting up xdg-utils (1.1.1-1) ... Setting up xml-core (0.13+nmu2) ... Setting up zip (3.0-11) ... ``` 
comment
@dschult if the last comment was towards me: - we dont have pydotplus in debian (yet, I'll package it), so I cant install it - looking at 1.11rc1 code, it doesnt look like pydotplus is a strong dependency, for any python version, and it's only specified in doc/requirements.txt (so if you want to migrate to it, maybe you can consider adding some docs/notice about this move); in fact in networkx/drawing/nx_pydot.py pydot is tried first then pydotplus 
comment
On Sun, Jan 3, 2016 at 11:06 AM, Sanket Dasgupta notifications@github.com wrote:  > we dont have pydotplus in debian (yet, I'll package it), so I cant install > it >  > Can you use pip https://pip.pypa.io/en/stable/: pip install pydotplus? >  > that's not how debian works :) >  > looking at 1.11rc1 code, it doesnt look like pydotplus is a strong > dependency, >  > You are right. But you are using python3 and pydot does not support it. >  > we have a patch in debian to support py3k in debian, apparently it's not > working as expected; but that makes me wonder, if pydot "upstream" doesnt > support py3k and networkx uses pydot, how can networkx declare to support > py3k? >  > for any python version, and it's only specified in doc/requirements.txt > (so if you want to migrate to it, maybe you can consider adding some > docs/notice about this move) >  > It will be done. This change is not official (yet) >  > cool, thanks! 
comment
@dschult hehe yeah that's :) and I took over the maintenance of pydot debian pkgs (mainly) because networks uses it.  We added a patch (https://github.com/davidvilla/pydot/commit/68100b7004bb2fcb2dfde88202a34f69326ffa9e) to support py3k in pydot, and we havent that many reports of it being broken, but apparently it is.  I will have to assess a bit the situation of the forks (i suspect they diverged quite a bit from the original pydot, because everyone scratches their own itches) before deciding if introduce one of them or rework the py3k patch for pydot (not that I have the time nor the knowledge of pydot but.. oh well) 
comment
ok, so I tried to run the tests without pydot installed, and I got this error:  ``` FAIL: Doctest: networkx.drawing.nx_agraph.pygraphviz_layout ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3.4/doctest.py", line 2187, in runTest     raise self.failureException(self.format_failure(new.getvalue())) nose.proxy.AssertionError: Failed doctest test for networkx.drawing.nx_agraph.pygraphviz_layout   File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 228, in pygraphviz_layout  ---------------------------------------------------------------------- File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 248, in networkx.drawing.nx_agraph.pygraphviz_layout Failed example:     pos=nx.graphviz_layout(G) Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.pygraphviz_layout[1]>", line 1, in <module>         pos=nx.graphviz_layout(G)       File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 271, in pydot_layout         pydot = load_pydot()       File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 47, in load_pydot         raise ImportError(msg)     ImportError: pydot could not be loaded: http://code.google.com/p/pydot/ ---------------------------------------------------------------------- File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_agraph.py", line 249, in networkx.drawing.nx_agraph.pygraphviz_layout Failed example:     pos=nx.graphviz_layout(G,prog='dot') Exception raised:     Traceback (most recent call last):       File "/usr/lib/python3.4/doctest.py", line 1318, in __run         compileflags, 1), test.globs)       File "<doctest networkx.drawing.nx_agraph.pygraphviz_layout[2]>", line 1, in <module>         pos=nx.graphviz_layout(G,prog='dot')       File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 257, in graphviz_layout         return pydot_layout(G=G,prog=prog,root=root,**kwds)       File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 271, in pydot_layout         pydot = load_pydot()       File "/home/morph/deb/build-area/python-networkx-1.11~rc1/networkx/drawing/nx_pydot.py", line 47, in load_pydot         raise ImportError(msg)     ImportError: pydot could not be loaded: http://code.google.com/p/pydot/  >>  raise self.failureException(self.format_failure(<_io.StringIO object at 0x7fe774c640d8>.getvalue())) ```  so while it's true that networkx/drawing/nx_pydot tries to handle multiple modules providing pydot functionalities, the tests are not handling the case when no pydot is available 
comment
Debian development is done in unstable, so testing in 'stable' wont give us much more information.  It's not that easy to re-test 1.10, but I can do if you really need it.  The main point of my last comment is that the test suite should catch the case where no "pydot" is available and fail more gracefully 
comment
it showed up just know because just now I tried to remove pydot and see what happens :) 
comment
@dschult in the meantime I uploaded a release of pydot which seems to support py3k better than what was previously in Debian.  I'll give a spin to rc2 
comment
tests running on py3.5 generate these 2 failures:  ``` ====================================================================== FAIL: test_agraph.TestAGraph.testMultiUndirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 198, in runTest     self.test(*self.arg)   File "/build/python-networkx-1.11~rc2/networkx/drawing/tests/test_agraph.py", line 72, in testMultiUndirected     self.agraph_checks(nx.MultiGraph())   File "/build/python-networkx-1.11~rc2/networkx/drawing/tests/test_agraph.py", line 38, in agraph_checks     self.assert_equal(G, H)   File "/build/python-networkx-1.11~rc2/networkx/drawing/tests/test_agraph.py", line 31, in assert_equal     assert_true( sorted(G1.edges())==sorted(G2.edges()) ) AssertionError: False is not true     'False is not true' = self._formatMessage('False is not true', "%s is not true" % safe_repr(False)) >>  raise self.failureException('False is not true')   ====================================================================== FAIL: test_agraph.TestAGraph.testUndirected ---------------------------------------------------------------------- Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/nose/case.py", line 198, in runTest     self.test(*self.arg)   File "/build/python-networkx-1.11~rc2/networkx/drawing/tests/test_agraph.py", line 66, in testUndirected     self.agraph_checks(nx.Graph())   File "/build/python-networkx-1.11~rc2/networkx/drawing/tests/test_agraph.py", line 38, in agraph_checks     self.assert_equal(G, H)   File "/build/python-networkx-1.11~rc2/networkx/drawing/tests/test_agraph.py", line 31, in assert_equal     assert_true( sorted(G1.edges())==sorted(G2.edges()) ) AssertionError: False is not true     'False is not true' = self._formatMessage('False is not true', "%s is not true" % safe_repr(False)) >>  raise self.failureException('False is not true')   ---------------------------------------------------------------------- Ran 2752 tests in 54.640s  FAILED (SKIP=8, failures=2) ``` 
comment
1.3~rc2 (there were some problems in the last attempts to update pygraphviz in debian, will see if they are all been addressed in 1.3.1) do you need a specific version? 
