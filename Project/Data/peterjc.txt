issue
Fix over-indentation of list in chordless_cycles docstring#TITLE_END#And add trailing periods to match earlier list.  This fixes a minor graphical oddity in the https://networkx.org/documentation/stable/reference/algorithms/generated/networkx.algorithms.cycles.chordless_cycles.html#chordless-cycles rendering. 
issue
Add missing metadata to v3.3 release notes#TITLE_END#Compared to recent releases, v3.3 was missing  - release date (taken from PyPI) - supported python versions (taken from pyproject.toml) - high level project description (taken from previous release)  <!-- Please use pre-commit to lint your code. For more details check out step 1 and 4 of https://networkx.org/documentation/latest/developer/contribute.html --> 
issue
plot_knuth_miles.py does not link to knuth_miles.txt.gz#TITLE_END#The website has this example:  https://networkx.github.io/documentation/stable/auto_examples/drawing/plot_knuth_miles.html  It references a dataset, without a download link needed to run the example.  The page source is here:  https://github.com/networkx/networkx/blob/master/examples/drawing/plot_knuth_miles.py  I found a copy of the sample data here - although it might also be on the website with a nicer URL?  https://github.com/networkx/networkx/blob/master/examples/drawing/knuth_miles.txt.gz
issue
Request for XGMML support#TITLE_END## Motivation  I am currently generating large graphs with nodes with specific captions/labels, colours, sizes, and likewise edges with meaningful colors, widths and styles (dotted, dashed, solid). I am able to plot them with NetworkX via GraphViz for a static image. I want to export them for import into an interactive tool like Cytoscape.  I can use existing export formats like GraphML with some success, but these do not formalise the visual annotations, and thus require manual mapping of node/edge properties to visual effects *every time* than I import such a file.  The Cytoscape developers explained that while GraphML examples use a node "color" attribute, this is not formalised - and equally people might use "fill" or "fill_color" etc. They recommend using XGMML instead:  http://manual.cytoscape.org/en/3.7.2/Supported_Network_File_Formats.html#xgmml-format  > XGMML is the XML evolution of GML and is based on the GML definition. In addition to network data, XGMML contains node/edge/network column data. The XGMML file format specification is available at: > > http://cgi5.cs.rpi.edu/research/groups/pb/punin/public_html/XGMML/ > > XGMML is now preferred to GML because it offers the flexibility associated with all XML document types. If youâ€™re unsure about which to use, choose XGMML.  Note that unfortunately that specification URL is out of data or defunct, logged as an issue in the Cytoscape manual:  https://github.com/cytoscape/cytoscape-manual/issues/45  # Would XGMML support be welcomed for inclusion in NetworkX itself?  Note NetworkX already has GML support:  https://github.com/networkx/networkx/blob/master/networkx/readwrite/gml.py  # Existing Implementations  @samadlotia wrote this short NetworkX to XGMML converter for Cytoscape, licensing unclear:  https://gist.github.com/samadlotia/8c987acb4de07ed86fba  @informationsea wrote this MIT licensed package:  https://github.com/informationsea/networkxxgmml https://pypi.org/project/networkxgmml/  Either might (with the copyright holders' permission to re-license as 3-clause BSD) be a useful starting point.
issue
GraphML output not using <edge id="XXX">#TITLE_END#The NetworkX GraphML output seems to demote edge ``id`` to a named attribute.  The GraphML primer has an example with node colors encoded as attributes of selected nodes, and weights on edges:  http://graphml.graphdrawing.org/primer/graphml-primer.html#Attributes  Example on macOS with Python 3.7 and NetworkX 2.3  ``` $ curl -L -O http://graphml.graphdrawing.org/primer/attributes.graphml $ python3 --version Python 3.7.0rc1 $ python3 -c "import networkx as nx; print(nx.__version__)"  2.3 $ python3 -c "import networkx as nx; nx.readwrite.graphml.write_graphml(nx.readwrite.graphml.read_graphml('attributes.graphml'), 'attributes2.graphml')" ```  Input ``attributes.graphml``:  ```xml <?xml version="1.0" encoding="UTF-8"?> <!-- This file was written by the JAVA GraphML Library.--> <graphml xmlns="http://graphml.graphdrawing.org/xmlns"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns http://graphml.graphdrawing.org/xmlns/1.0/graphml.xsd">   <key id="d0" for="node" attr.name="color" attr.type="string">     <default>yellow</default>   </key>   <key id="d1" for="edge" attr.name="weight" attr.type="double"/>   <graph id="G" edgedefault="undirected">     <node id="n0">       <data key="d0">green</data>     </node>     <node id="n1"/>     <node id="n2">       <data key="d0">blue</data>     </node>     <node id="n3">       <data key="d0">red</data>     </node>     <node id="n4"/>     <node id="n5">       <data key="d0">turquoise</data>     </node>     <edge id="e0" source="n0" target="n2">       <data key="d1">1.0</data>     </edge>     <edge id="e1" source="n0" target="n1">       <data key="d1">1.0</data>     </edge>     <edge id="e2" source="n1" target="n3">       <data key="d1">2.0</data>     </edge>     <edge id="e3" source="n3" target="n2"/>     <edge id="e4" source="n2" target="n4"/>     <edge id="e5" source="n3" target="n5"/>     <edge id="e6" source="n5" target="n4">       <data key="d1">1.1</data>     </edge>   </graph> </graphml> ```  Output from NetworkX:  ```xml <?xml version='1.0' encoding='utf-8'?> <graphml xmlns="http://graphml.graphdrawing.org/xmlns" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns http://graphml.graphdrawing.org/xmlns/1.0/graphml.xsd">   <key attr.name="id" attr.type="string" for="edge" id="d2" />   <key attr.name="weight" attr.type="double" for="edge" id="d1" />   <key attr.name="color" attr.type="string" for="node" id="d0">     <default>yellow</default>   </key>   <graph edgedefault="undirected">     <node id="n0">       <data key="d0">green</data>     </node>     <node id="n1" />     <node id="n2">       <data key="d0">blue</data>     </node>     <node id="n3">       <data key="d0">red</data>     </node>     <node id="n4" />     <node id="n5">       <data key="d0">turquoise</data>     </node>     <edge source="n0" target="n2">       <data key="d1">1.0</data>       <data key="d2">e0</data>     </edge>     <edge source="n0" target="n1">       <data key="d1">1.0</data>       <data key="d2">e1</data>     </edge>     <edge source="n1" target="n3">       <data key="d1">2.0</data>       <data key="d2">e2</data>     </edge>     <edge source="n2" target="n3">       <data key="d2">e3</data>     </edge>     <edge source="n2" target="n4">       <data key="d2">e4</data>     </edge>     <edge source="n3" target="n5">       <data key="d2">e5</data>     </edge>     <edge source="n4" target="n5">       <data key="d1">1.1</data>       <data key="d2">e6</data>     </edge>   </graph> </graphml> ```  The node and edge identifiers are still present, as are the node color and edge weights. So far so good.  NetworkX has reported the named attributes in reversed order, strange but harmless?  However, NetworkX has demoted the edge id to a named attribute (``d2``)!  Before:  ```xml     <edge id="e0" source="n0" target="n2">       <data key="d1">1.0</data>     </edge> ```  After:  ```xml     <edge source="n0" target="n2">       <data key="d1">1.0</data>       <data key="d2">e0</data>     </edge> ```  This seems like a bug to me.
issue
GraphML input to GML output fails, node_default not a valid key#TITLE_END#The GraphML primer has an example with node colors encoded as attributes of selected nodes, and weights on edges:  http://graphml.graphdrawing.org/primer/graphml-primer.html#Attributes  Example tested on macOS with Python 3.7 and NetworkX 2.3,  ``` $ curl -L -O http://graphml.graphdrawing.org/primer/attributes.graphml $ python3 --version Python 3.7.0rc1 $ python3 -c "import networkx as nx; print(nx.__version__)"  2.3 ```  GraphML to GraphML works (mostly, see #3470)  GraphML to GEXF works:  ``` $ python3 -c "import networkx as nx; nx.readwrite.gexf.write_gexf(nx.readwrite.graphml.read_graphml('attributes.graphml'), '/dev/stdout')" <?xml version='1.0' encoding='utf-8'?> <gexf version="1.2" xmlns="http://www.gexf.net/1.2draft" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/2001/XMLSchema-instance">   <graph defaultedgetype="undirected" mode="static" name=""> ... ```  However, GraphML to GML fails:  ``` $ python3 -c "import networkx as nx; nx.readwrite.gml.write_gml(nx.readwrite.graphml.read_graphml('attributes.graphml'), '/dev/stdout')" graph [ Traceback (most recent call last):   File "<string>", line 1, in <module>   File "<decorator-gen-620>", line 2, in write_gml   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/networkx/utils/decorators.py", line 240, in _open_file     result = func_to_be_decorated(*new_args, **kwargs)   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/networkx/readwrite/gml.py", line 814, in write_gml     for line in generate_gml(G, stringizer):   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/networkx/readwrite/gml.py", line 718, in generate_gml     for line in stringize(attr, value, ignored_keys, '  '):   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/networkx/readwrite/gml.py", line 658, in stringize     raise NetworkXError('%r is not a valid key' % (key,)) networkx.exception.NetworkXError: 'node_default' is not a valid key ```  
comment
To me this is a regression, consider the following example inspired by your test case, using networkx 2.8.2,  ``` $ python Python 3.9.13 | packaged by conda-forge | (main, May 27 2022, 17:00:52)  [Clang 13.0.1 ] on darwin Type "help", "copyright", "credits" or "license" for more information. >>> import networkx as nx >>> nx.__version__ '2.8.2' >>> for x in ["Hello", "'Hello'", '"Hello"']: ...     print(f"Graph with node named {x}") ...     try: ...         nx.nx_pydot.to_pydot(nx.Graph([(x, 1)])) ...     except ValueError: ...         print("Failed") ...  Graph with node named Hello <pydot.Dot object at 0x10fb25be0> Graph with node named 'Hello' <pydot.Dot object at 0x10ff62a90> Graph with node named "Hello" <pydot.Dot object at 0x10ff81be0> ```  But with networkx 2.8.3, only node names with explicit double quotes seem to work:  ```pycon >>> import networkx as nx >>> nx.__version__ '2.8.3' >>> for x in ["Hello", "'Hello'", '"Hello"']: ...     print(f"Graph with node named {x}") ...     try: ...         nx.nx_pydot.to_pydot(nx.Graph([(x, 1)])) ...     except ValueError: ...         print("Failed") ...  Graph with node named Hello Failed Graph with node named 'Hello' Failed Graph with node named "Hello" <pydot.Dot object at 0x115c87e20> ```  Is this intensional, or was I relying on an undocumented feature?  Edit: Update example from ``Hello world`` to use a single word ``Hello``, avoiding the complications of a space. My real use case has checksum strings as single word node names.  Edit: July 2022 - confirming it was indeed my dropping the space which broke the test case as identified below.
comment
I'm at a _different_ machine now, older Python and initially even older networkx:  ``` $ python Python 3.8.5 (default, Sep  4 2020, 02:22:02)  [Clang 10.0.0 ] :: Anaconda, Inc. on darwin Type "help", "copyright", "credits" or "license" for more information. >>> import networkx as nx >>> nx.__version__ '2.6.3' >>> import pydot >>> pydot.__version__ '1.4.2' >>> for x in ["Hello", "'Hello'", '"Hello"']: ...     print(f"Graph with node named {x}") ...     try: ...         nx.nx_pydot.to_pydot(nx.Graph([(x, 1)])) ...     except ValueError: ...         print("Failed") ...  Graph with node named Hello <pydot.Dot object at 0x7fbe1326b220> Graph with node named 'Hello' <pydot.Dot object at 0x7fbe146dc700> Graph with node named "Hello" <pydot.Dot object at 0x7fbe146fd580> >>>  ```  After updating to networkx 2.8.3,  ``` $ python Python 3.8.5 (default, Sep  4 2020, 02:22:02)  [Clang 10.0.0 ] :: Anaconda, Inc. on darwin Type "help", "copyright", "credits" or "license" for more information. >>> import networkx as nx >>> nx.__version__ '2.8.3' >>> import pydot >>> pydot.__version__ '1.4.2' >>> import pyparsing >>> pyparsing.__version__ '2.4.7' >>> for x in ["Hello", "'Hello'", '"Hello"']: ...     print(f"Graph with node named {x}") ...     try: ...         nx.nx_pydot.to_pydot(nx.Graph([(x, 1)])) ...     except ValueError: ...         print("Failed") ...  Graph with node named Hello <pydot.Dot object at 0x7f80bfb67c40> Graph with node named 'Hello' Failed Graph with node named "Hello" <pydot.Dot object at 0x7f80c0ec6190> ```  Curious, not the same as before. I'll recheck on the first macOS machine another day (with Python 3.9 via conda), but the original issue came up on CircleCI under Linux so this is not macOS specific. The version of Python could be important...  Update: That was with pyparsing 2.4.7
comment
I updated pyparsing from 2.4.7 to 3.0.9 on this second macOS machine, no change:  ``` $ python Python 3.8.5 (default, Sep  4 2020, 02:22:02)  [Clang 10.0.0 ] :: Anaconda, Inc. on darwin Type "help", "copyright", "credits" or "license" for more information. >>> import pyparsing >>> pyparsing.__version__ '3.0.9' >>> import networkx as nx >>> nx.__version__ '2.8.3' >>> import pydot >>> pydot.__version__ '1.4.2' >>> for x in ["Hello", "'Hello'", '"Hello"']: ...     print(f"Graph with node named {x}") ...     try: ...         nx.nx_pydot.to_pydot(nx.Graph([(x, 1)])) ...     except ValueError: ...         print("Failed") ...  Graph with node named Hello <pydot.Dot object at 0x7fd710b94e50> Graph with node named 'Hello' Failed Graph with node named "Hello" <pydot.Dot object at 0x7fd712fb8700> ```  I guess we need to narrow down what triggers the apparent false positive I fell over... or I just explicitly wrap my node names with double quotes just in case?
comment
I'm using MD5 checksums like ``29de890989becddc5e0b10ecbbc11b1a``, so just normal strings of letters and digits.  So I should add double quotes when giving this to networkx? i.e. rather than:  ```python node_name = "29de890989becddc5e0b10ecbbc11b1a"  # sometimes breaks ```  it is safer to use:  ```python node_name = '"29de890989becddc5e0b10ecbbc11b1a"'  # explicit double quotes should work ```
comment
@dschult As I recall, pygraphviz was a bigger dependency chain (esp. on Windows), but I made that choice was years ago. It looks like now it is easy via conda-forge (including Windows), but PyPI only has a source code archive which could be painful to install due to needing a compiler.  In comparison, pydot is pure Python so trivial to install via conda or pip.  --  Should I open a dedicated issue on this regression (although we still need to narrow down when it is triggered)?
comment
Thank you - a minimal test case for triggering this false positive.  (I'm not back at the first macOS machine to confirm, but I think on that particular combination of dependency versions it was broader than just names starting with an integer.)
comment
I too suspect pyparsing is to blame, I got this as conda-forge moved from pyparsing 3.0.1 to 3.0.2:  ``` Traceback (most recent call last): ...     write_fn(G, "/dev/stdout" if graph_output == "-" else graph_output)   File "/opt/conda/envs/testing/lib/python3.7/site-packages/thapbi_pict/edit_graph.py", line 88, in write_pdf     placement = nx.drawing.nx_pydot.graphviz_layout(G, "fdp")   File "/opt/conda/envs/testing/lib/python3.7/site-packages/networkx/drawing/nx_pydot.py", line 263, in graphviz_layout     return pydot_layout(G=G, prog=prog, root=root)   File "/opt/conda/envs/testing/lib/python3.7/site-packages/networkx/drawing/nx_pydot.py", line 328, in pydot_layout     assert len(Q_list) == 1 TypeError: object of type 'NoneType' has no len() ```  Happily pyparsing 3.0.3 fixes my issue too.
