issue
bugfix-for-issue-6881 (removing non-terminal leaves)#TITLE_END#<!-- Please use pre-commit to lint your code. For more details check out step 1 and 4 of https://networkx.org/documentation/latest/developer/contribute.html --> ref-- [NetworkX GitHub Issue #6881](https://github.com/networkx/networkx/issues/6881) This updated function now checks if there is only one node left in the graph after removing non-terminal leaves. If there's only one node left, it exits the loop, preventing further removal of non-terminal leaves. This should produce the desired behavior as outlined in the provided code snippet. ``` def _remove_nonterminal_leaves(G, terminals):     """Remove non-terminal leaves iteratively."""     terminals_set = set(terminals)     while True:         non_terminal_leaves = [n for n in G.nodes if n not in terminals_set and G.degree(n) == 1]         if not non_terminal_leaves:             break         G.remove_nodes_from(non_terminal_leaves)         if len(G.nodes) == 1:  # If only one node left, exit loop             break ```
