issue
Multi{Di}Graph incorrectly parses `incoming_graph_data` attributes from {Di}Graph objects.#TITLE_END#### Current Behavior ``` >>> import networkx as nx >>> nx.__version__ '3.4.2' >>> g = nx.diamond_graph() >>> g[1][2] {} >>> h = nx.DiGraph(g) >>> h[1][2] {} >>> h = nx.MultiGraph(g) >>> h[1][2] AtlasView({0: {}}) >>> h = nx.MultiDiGraph(g) >>> h[1][2] AtlasView({0: {}}) >>> h = nx.DiGraph(g) >>> h[1][2] {} >>> i = nx.MultiDiGraph(h) >>> i[1][2] AtlasView({0: {}}) >>> i = nx.MultiGraph(h) >>> i[1][2] AtlasView({0: {}}) ```  ### Expected Behavior Attributes should be `dict` not `AtlasView`.  ### Steps to Reproduce See above.  ### Environment Python version: 3.12.4 NetworkX version: 3.4.2
issue
contracted_edge() unpacks MultiGraph edges incorrectly when calling contracted_nodes()#TITLE_END#The edge key value gets unpacked into self_loops as a positional argument, but the call also has self_loops as a kwarg. # Example ``` import networkx as nx import random g = nx.complete_graph(5, create_using=nx.MultiGraph()) nx.contracted_edge(g, random.choice(list(g.edges))) ``` ## Results ``` --------------------------------------------------------------------------- TypeError                                 Traceback (most recent call last) <ipython-input-220-465f568dfaa5> in <module>()       1 g = nx.complete_graph(5, create_using=nx.MultiGraph()) ----> 2 nx.contracted_edge(g, random.choice(list(g.edges)))  ~/.virtualenvs/bernoulli/lib/python3.6/site-packages/networkx/algorithms/minors.py in contracted_edge(G, edge, self_loops)     451         raise ValueError('Edge {0} does not exist in graph G; cannot contract'     452                          ' it'.format(edge)) --> 453     return contracted_nodes(G, *edge, self_loops=self_loops)  TypeError: contracted_nodes() got multiple values for argument 'self_loops' ``` # Partial workaround Slicing the edge key out of the edge in the call to contracted_edge() allows the function to work: ``` >>> nx.contracted_edge(g, random.choice(list(g.edges))[:-1]) <networkx.classes.multigraph.MultiGraph at 0x73c460e3d5f8> ``` But this loses the edge identity, which might be important for some algorithms. # More complete workaround The equivalent operation using contracted_nodes() works: ``` u, v, k = random.choice(list(g.edges)) g = nx.contracted_nodes(g, u, v, self_loops=False) ``` But IMHO both cases should work.  :) 
issue
Attributes with whitespace not quoted when generating DOT representation#TITLE_END#DOT attributes are defined as follows:  > attr_list | : | '[' [ a_list ] ']' [ attr_list ] > a_list | : | ID '=' ID [ (';' \| ',') ] [ a_list ] > An ID is one of the following: >   Any string of alphabetic ([a-zA-Z\200-\377]) characters, underscores ('_') or digits ([0-9]), not beginning with a digit; >   a numeral [-]?(.[0-9]+ | [0-9]+(.[0-9]*)? ); >   any double-quoted string ("...") possibly containing escaped quotes ('")1; >   an HTML string (<...>).  When an attribute name contains whitespace, NetworkX does not quote the string; e.g. the following is emitted from nx.drawing.nx_pydot.write_dot():  > strict graph  { > n0 [Node Label="A", label="9.0"]; > }
