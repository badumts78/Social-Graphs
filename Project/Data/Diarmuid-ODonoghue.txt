issue
contracted_nodes() duplicates edges#TITLE_END#<!-- If you have a general question about NetworkX, please use the discussions tab to create a new discussion -->  <!--- Provide a general summary of the issue in the Title above -->  ### Current Behavior Under some circumstances `contracted_nodes()` duplicates edges within a graph. Primarily its self edges that seem to be the source of the problem.   <!--- Tell us what happens instead of the expected behavior --> I was using `contracted_nodes()` to merge nodes in a graph, when I noticed a pathological case where one of the merge nodes was not in the graph.  ~~Surprisingly, the problem seems to arise only when the additional parameter `copy=False)` is used. In my minimal example at least, setting `copy=True)` generates different results,~~  ### Expected Behavior  <!--- Tell us what should happen --> I expected this to either leave the edge unchanged or possibly even delete the edge. The graph should only have 1 edge after merging - definitely not 2 edges! ~~I would also expect the same number of edges to result when `copy=False)` and `copy=True)` are used.~~  ### Steps to Reproduce  <!--- Provide a minimal example that reproduces the bug --> ``` G1 = nx.MultiDiGraph() G1.add_edge(1, 1) nx.contracted_nodes(G1, 2, 1, self_loops=False, copy=False) G1.number_of_edges() # returns 2 but should be 1 ``` The problem seems to occur with `self_loops=False` and also with `self_loops=True`.   ### Environment  <!--- Please provide details about your local environment -->  Python version: NetworkX version: 3.0. (I did a quick test and the problem seems to persist in v3.1).  ### Additional context Currently using Python 3.10 and the PyCharm editor.  <!--- Add any other context about the problem here, screenshots, etc. --> 
comment
That seems like a reasonable resolution to me. Thank you! 
