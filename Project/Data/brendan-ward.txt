issue
Add dissolve polygons example#TITLE_END#This example builds on #4366 to add an example using networkx + geopandas to identify and dissolve spatially adjacent polygons, without using PySAL (already well demonstrated in #4366).  The goal here was to show the utility of networkx to handle a geospatial processing task that doesn't otherwise focus on networks as a primary outcome.  I'll leave it to the maintainers here to suggest if this belongs here or should be a linked example that lives in GeoPandas instead.  This may require adding rtree or pygeos (I recommend pygeos) to the example dependencies, depending on how geopandas is installed for those.  /cc @ljwolf @martinfleis
comment
This was fixed in geopandas [#1644](https://github.com/geopandas/geopandas/pull/1644), but has not yet made it into a new geopandas release (coming soon).  For now, pinning the combination of geopandas at 0.8.x and pygeos at 0.8 (like you've already done) should fix it; pinning geopandas may not be necessary depending on how the version.
comment
Big thanks to @ljwolf for adding examples here!  Depending on file size, it would be good to use one format for example files; I'd recommend against using shapefiles here since that clutters up the directory.  GeoJSON - while verbose - may be a good option if not too big here, since it will also work with Github's builtin GeoJSON viewer.   A few suggestions (toward the broader intent of these examples, not all need to be in this PR), that generally follow in line with comments raised above:  It would be very good to add a bit to the `examples/geospatial/readme.txt` (could that be converted to a *.md for better formatting?) a bit of additional context that will help folks understand the examples a bit better.   In addition to crosslinks to each of the packages used here (GeoPandas, PySAL, momepy), it would be good to briefly give a little bit more info about what problem they solve in general, and also provide a bit more info about some of the abstractions here.  I'm thinking something like: ``` The following geospatial examples showcase different ways of performing network analyses using packages within the geospatial Python ecosystem.  Example spatial files are stored directly in this directory.  ## Dependencies  [GeoPandas](https://geopandas.readthedocs.io/) provides interoperability between geospatial formats and storage mechanisms (e.g., databases) and Pandas data frames for tabular-oriented processing of spatial data, as well as a wide array of supporting functionality including spatial indices, spatial predicates (e.g., test if geometries intersect each other), spatial operations (e.g., the area of overlap between intersecting polygons), and more.  [PySAL](https://pysal.org/) provides a rich suite of spatial analysis algorithms.  From a network analysis context, [spatial weights](https://pysal.org/libpysal/api.html#spatial-weights) provide... (Levi please add more here).  See the following examples that use PySAL: * `examples/geospatial/plot_delaunay.py` * ... (depends on split between PySAL and Momepy examples)  [momepy](http://docs.momepy.org/en/stable/) builds on top of GeoPandas and PySAL to provide a suite of algorithms focused on urban morphology.  From a network analysis context, momepy enables you to... (Martin please add more here).  See the following examples that use momepy: * ...  ## Key Concepts One of the essential tasks in network analysis of geospatial data is defining the spatial relationships between spatial features (points, lines, or polygons).  `PySAL` provides several ways of representing these spatial relationships between features using the concept of spatial weights.  These include relationships such as `Queen`, `Rook`, ...(Levi please add more here with a brief explanation of each).  (Martin please add a brief intro to abstractions used in your examples) ```  @ljwolf @martinfleis descriptions of your packages above for example purposes only, apologies for any incorrect statements, etc!  I think one of the things I struggled with a bit in the examples and discussion in this PR is that these libraries provide very useful abstractions from a network analysis standpoint - but they abstractions, and also a require a certain degree of domain knowledge or context in order to understand what problem them solve (as demonstrated by the examples).  I think in particular that briefly defining some of the core concepts that are not self-evident from the example code (e.g., `Queen` contiguity), with pointers over to more documentation in each of these libraries would help alleviate that.  I think when you get into more advanced terms / concepts (like "primal" above), it will be particularly helpful to briefly describe them (and crosslink to more details).  This may better enable folks to see how to adapt these examples to different domains where those terms are not used.  I'd like to see an additional example that doesn't rely on PySAL or momepy, and is focused less on the network analysis outcome and more on solving a geospatial problem, that happens to leverage characteristics of the underlying graph.  To be clear, I'm sure these problems could be solved better and with less code by leveraging PySAL - but perhaps showing a more direct example with fewer abstractions may help show what is possible - and the value in deferring some of that to PySAL ðŸ˜„ .  The one that comes to mind from my work is a simple "dissolve" of adjacent polygons.  I'll try to work up an example based on `nuts1.geojson` here.
comment
@ljwolf  > I'm happy to add an all-pairs-touches with pygeos to the polygon example  Would this be simpler, more performant, or more of a recommended pattern than the example I added in #4381?  If so, we can certainly drop that PR in light of changes here.  For that example, I was trying to leverage geopandas builtins (sjoin, dissolve) to keep that somewhat high level; it could be adapted to just use pygeos and pandas directly, but would be a bit more verbose and potentially harder to follow.  Under the hood, it uses the spatial index to help keep the all-pairs-touches fast (note: it leverages intersection predicate built into STRtree when that backend is used).  I completely agree about wanting to avoid patterns that scale poorly.  I don't have strong opinions about where that example lives.  @jarrodmillman  > just add a comment above every file reading bit stating that many different file formats can be used  I think a comment where `geopandas.read_file` or top of the file should suffice (e.g., 'You can use any geospatial format or data source supported by your installation of GeoPandas, including GeoJSON, ESRI Shapefile, Geopackage, etc.'); it seems appropriate to defer examples of support for different file formats to GeoPandas and focus the examples here more on what you can then do with the GeoDataFrames that you get from those.
