issue
reconsider the lobster generator#TITLE_END### The Issue In it's present form, the `random_lobster` generator function produces valid lobsters with multiple leaves, but it's only capable of producing an extremely small subset of the allowable lobsters which fit the general definition of "a tree having the property that the removal of leaf nodes leaves a caterpillar graph" and where a caterpillar graph is on in which all leafs are only one edge from a continuous path graph.  To illustrate the present limitation I've created a 15 node lobster graph with the original implementation: ``` python g = nx.random_lobster(15, 0.6, 0.5, seed=42) pos = nx.nx_pydot.pydot_layout(g) nx.draw(g, pos=pos) ``` ![old_lobster](https://user-images.githubusercontent.com/8422403/74614519-57d02d00-50cd-11ea-8486-98fdd29dab30.png)  This graph is clearly a valid lobster, and clearly has multiple leaves. However, none of the branches from the main path will ever fork even though it's allowed by the definition.   This limitation means that lobsters built with the current implementation will never have a node with degree > 3 even though both the 'backbone' nodes and the 'caterpillar' nodes of the lobster are allowed to have multiple connections as long as the additional connections don't violate the definition.  ## Proposed solution requirements An acceptable solution should: * not change the current api, or the meaning of any of the existing parameters * pass all existing tests  ## Proposed changes to codebase This PR closes #3701 by allowing multiple edges to be added at each depth traversed during graph construction. Note that the change converts `if` statements to `while` and adds some safety checks at the top of the function to catch risky user inputs before they start an infinite loop.   This means we can return valid lobsters that have nodes with degree > 3. The following plot was made with the code submitted in this PR:  ```python g = nx.random_lobster(10, 0.6, 0.5, seed=42) pos = nx.nx_pydot.pydot_layout(g) nx.draw(g, pos=pos) ``` ![new_lobster](https://user-images.githubusercontent.com/8422403/74614968-49841000-50d1-11ea-9569-42aabb8ced83.png)  ## Proposed additional tests Previous tests for the lobster function checked only that the function ran without throwing an exception. This PR adds a couple of checks to assert that the graph is a lobster according to the definition, and that the subgraph formed by dropping its leaves is a caterpillar graph. I've also added test to assert that if `p2=0` then the graph is a caterpillar.   To be clear, the existing implementation will pass those tests since it's a valid, if narrow, implementation for lobster creation. I've therefore also added an assertion to check that the max degree is larger than 3 for the test graph. This assertion would fail in the existing implementation but passes in the proposed one.  ## Additional discussion It'd be nice to see if this PR addresses the concerns voiced by @silent567 and @dschult. I think in this case it turns out to be pretty straight-forward to patch the algorithm to generate nearly any graph in the set of valid lobsters.  In fact, I don't think the original implementation meant to limit the breadth of available lobsters so severely, and I'd suggest this PR be considered as a lowly 'bug fix' rather than as a feature change.  
