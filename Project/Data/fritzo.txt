issue
DiGraph.copy() does not preserve subclassing#TITLE_END#To reproduce, ```py class X(DiGraph):     node_dict_factory = collections.OrderedDict  assert X().node_dict_factory == collections.OrderedDict assert X().copy().node_dict_factory == dict ``` To fix ```diff   def fresh_copy(self): -     return DiGraph() +     return type(self)() ``` I have not checked, but I assume this broken pattern occurs elsewhere in networkx
issue
Memory leak in DiGraph and views#TITLE_END#`nx.__version__ == 2.0`  My team is having trouble with memory leaks due to cyclic references in `DiGraph` objects.  I believe this could be fixed by using `weakref`s to store the `self._graph` attribute in all of the `*View` classes in networkx/classes/reportviews.py (e.g. [here](https://github.com/networkx/networkx/blob/master/networkx/classes/reportviews.py#L335)), something like ```diff   def __init__(self, G): -     self._graph = G = state[_'graph'] +     G = state['_graph']() +     self._graph = weakref(G) ``` Does this fix sound reasonable? If so my team might try to implement it.  Related: https://github.com/uber/pyro/issues/798 Related: https://github.com/uber/pyro/pull/801
