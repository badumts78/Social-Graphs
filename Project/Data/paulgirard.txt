issue
write/read/update/write again in Gexf create parallel edges#TITLE_END#Dear networkx,  I hope this time my issue will target a real bug and not a RTFM.  Here is my test code :   ``` python import networkx  g=networkx.Graph() g.add_edges_from([(1,2),(2,3),(1,3)]) networkx.write_gexf(g,"test.gexf")  g=networkx.read_gexf("test.gexf") g.add_edges_from([(4,5),(3,4),(1,5)]) networkx.write_gexf(g,"test_2.gexf") ```  Basically I create a very simple graph which I write as gexf. Then I open this very same gexf as a graph. I update this graph adding a few links. And finally rewrite back in gexf.  Here is the gexf of test_2.gexf  ``` xml <gexf version="1.1" xmlns="http://www.gexf.net/1.1draft" xmlns:viz="http://www.gexf.net/1.1draft/viz" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/2001/XMLSchema-instance">   <graph defaultedgetype="undirected" mode="static">     <nodes>       <node id="1" label="1" />       <node id="3" label="3" />       <node id="4" label="4" />       <node id="5" label="5" />       <node id="1" label="1" />       <node id="3" label="3" />       <node id="2" label="2" />     </nodes>     <edges>       <edge id="0" source="1" target="5" />       <edge id="1" source="3" target="4" />       <edge id="2" source="4" target="5" />       <edge id="1" source="1" target="3" />       <edge id="0" source="1" target="2" />       <edge id="2" source="3" target="2" />     </edges>   </graph> </gexf> ```  Now, the problem is the duplicated ids in edges.  When reading Gexf, ids are well stored in edge data if it exists ([see L854](https://github.com/networkx/networkx/blob/master/networkx/readwrite/gexf.py#L854)). But when writing Gexf id edges are ([see L342 in gexf.py](https://github.com/networkx/networkx/blob/master/networkx/readwrite/gexf.py#L342) ) taken form edge data or generated by a itertools.count ([see L265](https://github.com/networkx/networkx/blob/master/networkx/readwrite/gexf.py#L265)).  The problem occurs when we add edges on top of edges imported from gexf.  The itertools.count() might be initialized with the max of existing id in edges data. That requires to loop on edges before writing (which will loop over them again) but well. Or one should check that the id proposes by the itertools.count() is not already taken. If yes iterates again on the count() ?  Thanks in advance for addressing this issue. If I can help, please ask me.  Paul 
issue
can't read GEXF#TITLE_END#Dear networkx,   I love your lib. I am actually the author of Pygexf which has inspired GEXF format handling in networkx. Sicne my lib was integrated in networkx I am using quasi-only networkx.  I am on UBUNTU 14.04 with pyhon 2.7.6 I also tested this issue in UBUNTU 12.04 with python 2.7.3 And I tested the whole thing in a specific virtualenv with only networkx inside.  This script  :   ``` python import networkx  g=networkx.Graph() g.add_edges_from([(1,2),(2,3),(1,3)]) networkx.write_gexf(g,"test.gexf") del(g) g=networkx.Graph() networkx.read_gexf(g,"test.gexf") ```  throws this error  ``` Traceback (most recent call last):   File "/home/pgi/Téléchargements/test_networkx.py", line 8, in <module>     networkx.read_gexf(g3,"test.gexf")   File "<string>", line 2, in read_gexf   File "/usr/local/lib/python2.7/dist-packages/networkx/utils/decorators.py", line 220, in _open_file     result = func(*new_args, **kwargs)   File "/usr/local/lib/python2.7/dist-packages/networkx/readwrite/gexf.py", line 161, in read_gexf     G=reader(path)   File "/usr/local/lib/python2.7/dist-packages/networkx/readwrite/gexf.py", line 622, in __call__     g=self.xml.find("{%s}graph" % self.NS_GEXF)   File "/usr/lib/python2.7/xml/etree/ElementTree.py", line 704, in find     return self._root.find(path, namespaces) AttributeError: 'NoneType' object has no attribute 'find' ```  Apparently there's a bug when parsing the XML file.  Now, let's try the XML python lib without networkx :  ``` python from xml.etree.ElementTree import ElementTree  xml = ElementTree(file="test.gexf") g=xml.find("{%s}graph" % "http://www.gexf.net/1.1draft") print g ```  outputs without error :   ``` <Element '{http://www.gexf.net/1.1draft}graph' at 0x7f160de5bcc0> ```  Did I miss something or is that a bug between networkx and python's xml lib ?  Any help of this will be very appreciated. I am stuck with that....  Thanks  Paul 
