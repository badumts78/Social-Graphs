issue
Added parallelization option for all_pairs_shortest_path as suggestedâ€¦#TITLE_END# Added parallelization option for all_pairs_shortest_path as suggested in the TODO.
issue
Matrix market io#TITLE_END#The MatrixMarket format is used in several major network repository such as Network Repository and SuiteSparse to store graphs. The format has existed for some time, and it should be easy to integrate into NetworkX. Scipy already has parsers for MatrixMarket; these only need to interact with existing NetworkX methods.
issue
Matrix market io#TITLE_END#> The MatrixMarket format is used in several major network repository such as Network Repository and SuiteSparse to store graphs. The format has existed for some time, and it should be easy to integrate into NetworkX. Scipy already has parsers for MatrixMarket; these only need to interact with existing NetworkX methods.  This PR handles this by adding two methods: `write_mtx` and `read_mtx`. These provide support for I/O to/from MatrixMarket files.
issue
Communicability Betweenness Centrality Error For normalized=False#TITLE_END#If you run the method communicability_betweenness_centrality(G, normalized) where normalized is false, you will get the following error: ``` File "../../test/driver_auto_communicability_betweenness_centrality_v01.py", line 186, in main     libraryMethodReturnTypeVariable  = nx.communicability_betweenness_centrality(Graph,normalized) local variable 'scale' referenced before assignment ```  --------------------------------------------- ``` def _rescale(cbc, normalized):     # helper to rescale betweenness centrality     if normalized is True:         order = len(cbc)         if order <= 2:             scale = None         else:             scale = 1.0 / ((order - 1.0) ** 2 - (order - 1.0))     if scale is not None:         for v in cbc:             cbc[v] *= scale     return cbc ``` This is because communicability_betweenness_centrality calls the above method, and as you can see, scale is not defined on the line `if scale is not None`.  I'm not sure what scale should be if normalization is not True.
issue
k_components erroring without a clear reason#TITLE_END#While calling the k_components method on an acceptable input, I am receiving a strange exception.   ### Current Behavior I call k_components and receive the following: ``` Traceback (most recent call last):   File "<stdin>", line 1, in <module>   File "<decorator-gen-484>", line 2, in k_components   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/networkx/utils/decorators.py", line 82, in _not_implemented_for     return not_implement_for_func(*args, **kwargs)   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/networkx/algorithms/connectivity/kcomponents.py", line 128, in k_components     k = nx.node_connectivity(B, flow_func=flow_func)   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/networkx/algorithms/connectivity/connectivity.py", line 341, in node_connectivity     K = min(K, local_node_connectivity(G, v, w, **kwargs))   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/networkx/algorithms/connectivity/connectivity.py", line 209, in local_node_connectivity     return nx.maximum_flow_value(H, '%sB' % mapping[s], '%sA' % mapping[t], **kwargs)   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/networkx/algorithms/flow/maxflow.py", line 306, in maximum_flow_value     raise nx.NetworkXError("flow_func has to be callable.") networkx.exception.NetworkXError: flow_func has to be callable. ```  ### Expected Behavior I expect it to output the components.  ### Steps to Reproduce Take the following edgelist: ``` 0 1 0 2 2 3 5 6 0 5 6 2 ``` Run the following your Python shell: ``` >>> import networkx as nx >>> G = nx.read_edgelist("whatever_your_input_file_is") >>> nx.k_components(G, .5) ``` ### Environment  Python version: 3.7.7 NetworkX version: 2.4    
issue
Compatibility of Reading GraphML and Writing GML#TITLE_END#When I read in a graphml file with read_graphml, an error is produced when writing the same graph to GML with write_gml.   ### Current Behavior write_graphml reads a graph into NetworkX. An error is produced when calling write_gml with the graph. ``` Traceback (most recent call last):   File "<stdin>", line 1, in <module>   File "<decorator-gen-436>", line 2, in write_gml   File "/apps/software/standard/core/anaconda/5.2.0-py3.6/lib/python3.6/site-packages/networkx/utils/decorators.py", line 227, in _open_file     result = func_to_be_decorated(*new_args, **kwargs)   File "/apps/software/standard/core/anaconda/5.2.0-py3.6/lib/python3.6/site-packages/networkx/readwrite/gml.py", line 810, in write_gml     for line in generate_gml(G, stringizer):   File "/apps/software/standard/core/anaconda/5.2.0-py3.6/lib/python3.6/site-packages/networkx/readwrite/gml.py", line 717, in generate_gml     for line in stringize(attr, value, ignored_keys, '  '):   File "/apps/software/standard/core/anaconda/5.2.0-py3.6/lib/python3.6/site-packages/networkx/readwrite/gml.py", line 657, in stringize     raise NetworkXError('%r is not a valid key' % (key,)) networkx.exception.NetworkXError: 'node_default' is not a valid key ```  ### Expected Behavior The graph should be written out to a GML file.  ### Steps to Reproduce Put the following graphml in a file: ``` <?xml version='1.0' encoding='utf-8'?> <graphml xmlns="http://graphml.graphdrawing.org/xmlns" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns http://graphml.graphdrawing.org/xmlns/1.0/graphml.xsd">   <graph edgedefault="undirected">     <node id="1" />     <node id="2" />     <node id="3" />     <edge source="1" target="2" />     <edge source="1" target="3" />   </graph> </graphml> ``` Run the following: ``` >>> import networkx as nx >>> G = nx.read_graphml("name_of_graphml_file") >>> nx.write_gml(G,"test.gml") ```  ### Environment  Python version: 3.7.7 NetworkX version: 2.4    
issue
Erroneous Tag Added To YAML#TITLE_END#### Current Behavior The write yaml function is adding this tag to the graph that I output with it:  `!!python/object:networkx.classes.graph.Graph` When I try to read the graph back in with read yaml, I encounter the following error: `yaml.constructor.ConstructorError: could not determine a constructor for the tag 'tag:yaml.org,2002:python/object:networkx.classes.graph.Graph'`  ### Expected Behavior The write_yaml code should produce an output that is read successfully by read_yaml; this is not the case currently.  ### Steps to Reproduce >>> import networkx as nx >>> G = nx.Graph() >>> G.add_edges_from([(0,1)]) >>> nx.write_yaml(G, "test.yaml") >>> nx.read_yaml("test.yaml")  ### Environment <!--- Please provide details about your local environment --> Python version: Python 3.7.7 NetworkX version: NetworkX 2.4  
issue
Issues with write_dot#TITLE_END#When I run the following:  ``` G = nx.barabasi_albert_graph(3, 2) nx.nx_agraph.write_dot(G, 'test.dot') ``` I get this error: ``` Traceback (most recent call last):   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/pygraphviz/agraph.py", line 665, in out_edges_iter     raise StopIteration StopIteration  The above exception was the direct cause of the following exception:  Traceback (most recent call last):   File "<stdin>", line 1, in <module>   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/networkx/drawing/nx_agraph.py", line 194, in write_dot     A.clear()   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/pygraphviz/agraph.py", line 951, in clear     self.remove_edges_from(self.edges())   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/pygraphviz/agraph.py", line 573, in edges     return list(self.edges_iter(nbunch=nbunch, keys=keys))   File "/home/hlc5v/.conda/envs/network_crawler/lib/python3.7/site-packages/pygraphviz/agraph.py", line 734, in edges_iter     for e in self.out_edges_iter(keys=keys): RuntimeError: generator raised StopIteration ``` 
issue
Parse edgelist bug#TITLE_END#When calling `parse_edgelist()` using comma delimiters, it will fail to parse correctly fro edges with multiple attributes.  Ex. of bad edge: `1,2,{'test':1, 'test_other':2}`  `parse_edgelist()` will recognize the comma in the braces as delimiter and try to split them up.
comment
Have you thought about using the Cython parallelism for this?
comment
I would leave it up to the user. Since if they are unsure, they can just put a check around the call to `all_simple_paths` themselves.
