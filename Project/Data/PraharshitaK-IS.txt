comment
Can I solve this? 
comment
From my understanding of the code, it looks like it has been implemented for a balanced tree.  This might be the reason why its not giving you the right output. Looks like a bug. Will debug and get back to you.  Thanks for explaining it from your end.  `    Only defined on non-null trees represented with directed edges from     parents to children. Uses Tarjan's off-line lowest-common-ancestors     algorithm. Runs in time $O(4 \times (V + E + P))$ time, where 4 is the largest     value of the inverse Ackermann function likely to ever come up in actual     use, and $P$ is the number of pairs requested (or $V^2$ if all are needed).      Tarjan, R. E. (1979), "Applications of path compression on balanced trees",     Journal of the ACM 26 (4): 690-715, doi:10.1145/322154.322161. `  
